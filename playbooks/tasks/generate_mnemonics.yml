---
- name: Create mnemonic
  shell: "docker run --rm ethstaker/eth-val-tools mnemonic"
  register: mnemonic_output

- name: Add mnenomic to mnemonics.yaml
  blockinfile:
    path: "{{ MNEMONICS_PATH }}/mnemonics.yaml"
    block: |
      # {{item}}
      - mnemonic: "{{mnemonic_output.stdout}}"
        count: {{VALIDATORS_PER_INSTANCE}}
    marker: ""

- name: Add mnenomic to secret_mnemonics.yaml
  blockinfile:
    path: "{{ MNEMONICS_PATH }}/secret_mnemonics.yaml"
    block: |
      {{item}}: "{{mnemonic_output.stdout}}"
    marker: ""
